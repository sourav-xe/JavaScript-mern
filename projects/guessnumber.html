<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guess Number</title>
</head>
<style>
    /* Apply a gradient background with animation */
    body {
        font-family: 'Poppins', sans-serif;
        background: linear-gradient(45deg, #330d0e, #ac3a1b);
        background-size: 200% 200%;
        animation: gradientBG 5s ease infinite alternate;
        text-align: center;
        margin: 0;
        padding: 0;
    }

    @keyframes gradientBG {
        0% { background-position: 0% 50%; }
        100% { background-position: 100% 50%; }
    }

    /* Game Container */
    .wrapper {
        background: rgba(255, 255, 255, 0.9);
        width: 50%;
        margin: 50px auto;
        padding: 30px;
        border-radius: 15px;
        box-shadow: 0px 10px 20px rgba(0, 0, 0, 0.2);
        transition: transform 0.3s ease-in-out;
    }

    .wrapper:hover { transform: scale(1.03); }

    h1 { color: #333; font-size: 28px; }

    p { font-size: 16px; color: #444; }

    /* Input & Button */
    #guessfield {
        padding: 12px;
        width: 60%;
        margin-top: 10px;
        border: 2px solid #ddd;
        border-radius: 5px;
        font-size: 16px;
        transition: border 0.3s ease;
    }

    #guessfield:focus {
        border: 2px solid #ff6f61;
        outline: none;
        box-shadow: 0px 0px 8px rgba(255, 111, 97, 0.7);
    }

    #submit, #newgame {
        background: linear-gradient(45deg, #ff6f61, #de425b);
        color: white;
        border: none;
        padding: 12px 20px;
        margin-top: 20px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        font-weight: bold;
        transition: all 0.3s ease-in-out;
    }

    #submit:hover, #newgame:hover {
        background: linear-gradient(45deg, #de425b, #ff6f61);
        transform: scale(1.05);
        box-shadow: 0px 5px 15px rgba(255, 111, 97, 0.5);
    }

    /* Result Section */
    .resultparas { margin-top: 20px; font-size: 18px; }

    .guesses { font-weight: bold; color: #ff5733; background-color: #787575; padding: 5px; border-radius: 5px; }

    .lastresult { font-weight: bold; color: #007bff; }

    #newgame { display: none; }
</style>
<body>
    <div class="wrapper">
        <h1>Number Guessing Game</h1>
        <p>Try and guess a random number between 1 to 100.</p>
        <p>you can guess 10 times</p>
        <br>
            <form class="form">
                <label for="guessfield" id="guess">Guess a number</label>
                <input type="text" name="guessfield" id="guessfield">
                <input type="submit" id="submit" value="submit guess">
            </form>

            <div class="resultparas">
                <p>previous guesses<span class="guesses"></span></p>
                <p>Guess Remaiining: <span class="lastresult">10</span></p>
                <p class="loworhigh"></p>
            </div>
    </div>
</body>
<script>
    let randomnumber = (parseInt(Math.random()*100+1));
    
    const submit =  document.querySelector("#submit");
    const userinput =  document.querySelector("#guessfield");
    const guessslot = document.querySelector(".guesses");
    const remaining = document.querySelector(".lastresult");
    const loworhigh = document.querySelector(".loworhigh");
    const startover = document.querySelector(".resultparas");

   const p = document.createElement("p");

   let prevguess= [];
   let numguess = 1

   let playgame = true;

   if(playgame){
       submit.addEventListener("click", function (e) {
           e.preventDefault();
           const guess = parseInt(userinput.value);
           validateguess(guess);
       });
   }

   function validateguess(guess){
       if(isNaN(guess) || guess < 1 || guess>100 ){
           alert("enter valid num btw 1 to 100")
       }
       else{
           prevguess.push(guess);
           if(numguess === 11){
               displayguess(guess)
               displaymessage(`Game over. Random number was ${randomnumber}`)
               endgame();
           }
           else{
               displayguess(guess)
               checkguess(guess)
           }
       }

   }

   function checkguess(guess){

      if(guess === randomnumber){
           displaymessage(`you won`)
           endgame();
       }
       else if(guess > randomnumber){
           displaymessage(`number is high`)
       }
       else if(guess < randomnumber){
           displaymessage(`number is low`)
       }
       
   }

   function displayguess(guess){
       userinput.value= ""
       guessslot.innerHTML +=` ${guess}  `
       numguess ++;
       remaining.innerHTML = `${11-numguess}`


   }

   function displaymessage(message) {

       loworhigh.innerHTML = `<h2> ${message}</h2>`;
   }
   function endgame(){
    userinput.value=""
    userinput.setAttribute("disabled","")
    p.classList.add("button");
    p.innerHTML =` <h2 id ="newgame">New Game</h2>`
    startover.appendChild(p)
    playgame = (false)
    newgame()
   }
function newgame(){
    const newgamebtn = document.querySelector("#newgame");
    newgamebtn.addEventListener("click",function(e){
        randomnumber = (parseInt(Math.random()*100+1));
        parseInt=[]
        numguess=1
        guessslot.innerHTML = ""
        remaining.innerHTML = `${11- numguess}`
        userinput.removeAttribute("disabled")
        startover.removechild(p);
    })
}
  
</script>
</html> 